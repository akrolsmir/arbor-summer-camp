---
import { Image } from "astro:assets";
import advertisingSvg from "@assets/images/services/advertising.svg?raw";
import designSvg from "@assets/images/services/creative-designer-doing-multitasking.svg?raw";
import mobileSvg from "@assets/images/services/mobile-app-ui-ux-design.svg?raw";
import seoSvg from "@assets/images/services/seo-link-building.svg?raw";
import websiteSvg from "@assets/images/services/website-ui-ux-development.svg?raw";
import { getLangFromUrl, useTranslations, useTranslatedPath } from "@i18n/utils";
import { Icon } from "astro-icon/components";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const translatePath = useTranslatedPath(lang);

const { class: className } = Astro.props;

const points = [
	{
		title: "Collaborative Workspaces",
		content: "Dedicated areas for focused work, group collaboration, and creative brainstorming sessions in a beautiful natural setting.",
		image: `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-12 h-12">
			<path stroke-linecap="round" stroke-linejoin="round" d="M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 3 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0M12 12.75h.008v.008H12v-.008Z" />
		</svg>`
	},
	{
		title: "Outdoor Activities",
		content: "Guided nature walks, forest meditation sessions, and outdoor games to refresh your mind and connect with nature.",
		image: `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-12 h-12">
			<path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z" />
		</svg>`
	},
	{
		title: "Evening Campfires",
		content: "Gather around the fire for deep conversations, storytelling, and building meaningful connections under the stars.",
		image: `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-12 h-12">
			<path stroke-linecap="round" stroke-linejoin="round" d="M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z" />
			<path stroke-linecap="round" stroke-linejoin="round" d="M12 18a3.75 3.75 0 0 0 .495-7.468 5.99 5.99 0 0 0-1.925 3.547 5.975 5.975 0 0 1-2.133-1.001A3.75 3.75 0 0 0 12 18Z" />
		</svg>`
	},
	{
		title: "Culinary Experiences",
		content: "Enjoy delicious, locally-sourced meals prepared by our talented chefs, with options for all dietary preferences.",
		image: `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-12 h-12">
			<path stroke-linecap="round" stroke-linejoin="round" d="M12 8.25v-1.5m0 1.5c-1.355 0-2.697.056-4.024.166C6.845 8.51 6 9.473 6 10.608v2.513m6-4.871c1.355 0 2.697.056 4.024.166C17.155 8.51 18 9.473 18 10.608v2.513M15 8.25v-1.5m-6 1.5v-1.5m12 9.75-1.5.75a3.354 3.354 0 0 1-3 0 3.354 3.354 0 0 0-3 0 3.354 3.354 0 0 1-3 0 3.354 3.354 0 0 0-3 0 3.354 3.354 0 0 1-3 0L3 16.5m15-3.379a48.474 48.474 0 0 0-6-.371c-2.032 0-4.034.126-6 .371m12 0c.39.049.777.102 1.163.16 1.07.16 1.837 1.094 1.837 2.175v5.169c0 .621-.504 1.125-1.125 1.125H4.125A1.125 1.125 0 0 1 3 20.625v-5.17c0-1.08.768-2.014 1.837-2.174A47.78 47.78 0 0 1 6 13.12M12.265 3.11a.375.375 0 1 1 .53 0L12.53 3.43l.53.32a.375.375 0 1 1 0 .53l-.53.32-.32.53a.375.375 0 1 1-.53 0L11.47 5.1l-.53-.32a.375.375 0 0 1 0-.53l.53-.32.32-.53Z" />
		</svg>`
	}
];
---

<section id="services" class:list={["section z-10 relative py-20 lg:py-32", className]}>
	<div class="mx-auto max-w-7xl px-8 col-span-12">
		<!-- Section heading with decorative element -->
		<div class="text-center">
			<h2 class="section-title-daytime pt-16 pb-8">{t("services")}</h2>
		</div>

		<div class="wrapper relative">
			{
				points.map(({ title, content, image }, index) => (
					<div class="mb-24 flex flex-col items-center lg:items-start lg:flex-row gap-12">
						<!-- Create daytime paper background for each service -->
						<div class="relative w-full max-w-sm daytime-paper p-6 lg:p-8">
							<div class="absolute -inset-px bg-gradient-to-tr from-sky-300/20 to-transparent rounded-lg"></div>
							<div class="relative">
								<Fragment set:html={image} class="text-forest-700 w-12 h-12 mb-4" />
								<h3 class="font-display text-2xl font-bold text-forest-700 mb-4">{title}</h3>
								<p class="text-forest-800" set:html={content} />
							</div>
							
							<!-- Add decorative corner flourishes -->
							<div class="absolute top-0 left-0 w-8 h-8 border-t-2 border-l-2 border-meadow-500/30 rounded-tl-lg"></div>
							<div class="absolute top-0 right-0 w-8 h-8 border-t-2 border-r-2 border-meadow-500/30 rounded-tr-lg"></div>
							<div class="absolute bottom-0 left-0 w-8 h-8 border-b-2 border-l-2 border-meadow-500/30 rounded-bl-lg"></div>
							<div class="absolute bottom-0 right-0 w-8 h-8 border-b-2 border-r-2 border-meadow-500/30 rounded-br-lg"></div>
						</div>
						
						<!-- Add butterfly accent to alternate sides -->
						{/* <div class={`butterfly absolute ${index % 2 === 0 ? '-left-2' : '-right-2'} top-1/2`}></div> */}
					</div>
				))
			}
		</div>
	</div>
</section>

<style>
	.section {
		position: relative;
		width: 100%;
		z-index: 10;
	}
	
	.daytime-paper {
		background-color: rgba(255, 253, 240, 0.97);
		background-image: url('https://www.transparenttextures.com/patterns/parchment.png');
		background-blend-mode: overlay;
		border-radius: 0.5rem;
		box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
		transition: transform 0.3s ease, box-shadow 0.3s ease;
	}
	
	.daytime-paper:hover {
		transform: translateY(-5px);
		box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
	}
	
	/* Add subtle animation to the butterfly */
	.butterfly {
		animation: float 6s ease-in-out infinite;
	}
	
	@keyframes float {
		0%, 100% {
			transform: translateY(0);
		}
		50% {
			transform: translateY(-15px);
		}
	}
</style>

<script>
	// Create butterflies dynamically
	function createButterflies() {
		const servicesSection = document.querySelector('#services');
		if (!servicesSection) return;
		
		for (let i = 0; i < 8; i++) {
			const butterfly = document.createElement('div');
			butterfly.classList.add('butterfly');
			
			// Random positioning
			butterfly.style.position = 'absolute';
			butterfly.style.left = `${Math.random() * 100}%`;
			butterfly.style.top = `${Math.random() * 100}%`;
			
			// Random animation delay
			butterfly.style.animationDelay = `${Math.random() * 6}s`;
			
			// Random colors - light pastel shades
			const hue = Math.floor(Math.random() * 60) + 160; // blues and greens
			const saturation = Math.floor(Math.random() * 30) + 70; // fairly saturated
			const lightness = Math.floor(Math.random() * 20) + 70; // light colors
			butterfly.style.backgroundColor = `hsla(${hue}, ${saturation}%, ${lightness}%, 0.7)`;
			
			servicesSection.appendChild(butterfly);
		}
	}

	// document.addEventListener('DOMContentLoaded', createButterflies);
</script>
